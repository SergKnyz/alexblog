---
title: Файл  в формате Opensong
date: 2020-03-08 12:59:00 Z
tags:
- опенсонг
- info
---

Здравствуйте, друзья.

Как и обещал расскажу подробнее о папках и файлах Open Song.

## Структура каталогов 

Сама концепция Opensong-совместимых приложений подразумевает, что программы и песни хранятся раздельно.
В настройках программы можно указать песни из какой папки будут открыты для работы. Это позволяет хранить на одном компьютере несколько отдельных баз, например песенные сборники разных церквей или тексты на разных языках.
Все программы совместимые с Opensong используют одинаковую структуру каталогов и вложенных подкаталогов, что очень удобно.

Рассмотрим структуру каталогов на примере программы Open Chords. Я пользуюсь её на протяжении нескольких лет и новичкам рекомендую именно её. Существует установочная и переносная версия, и их места хранения данных несколько отличаются.


## Установочная версия 

Думаю большинство людей на настольном компьютере пользуется Windows, поэтому рассмотрим работу  именно в ней.
Скачиваем дистрибутив (исполнимый файл). Последнюю установочную версию можно скачать здесь...  и запускаем его.

Свою стартовую папку при установке программа создает сама. 
По умолчанию она размещается в 
`C:\Users\ИмяПользователя\Documents\Open Chords\`
Изначально там будет находится несколько песен на английском, которые идут в комплекте с программой.

Обычно дерево каталогов выглядит так:

![tree-folder.jpg](/uploads/tree-folder.jpg)

`\Open Chords\..` - каталог с несколькими вложенными файлами и исполнимым файлом программы;

`\Export\..` - каталог экспортированных песен в нем обычно две папки:

`\Print\` файлы экспорта на печать, и

`\Tablet\` файлы экспорт в HTML;

`\Sets `- каталог с сохраненными списками песен;

`\Settings` - каталог с настройками программы (во избежание проблем лучше здесь ничего не трогать);

`\Songs `- каталог содержащий сами песни.

Если вы устанавливайте программу в первый раз и не имеете опыта работы, то я рекомендую просто добавить скачанные песни в папку уже созданную программой.

Если вы захотите использовать другой каталог для работы то в настройках необходимо указать его. Предыдущий при этом никуда не денется (пока вы вручную его не удалите разумеется) и вы всегда сможете вернуться к нему.

Если вы хотите пользоваться базой собранной нами или сообществом WLA скачайте её здесь... (ссылка) и укажите папку со скачанными песнями в настройках.

## Переносная версия

Не требует установки и может работать с флешки, переносного диска и т.п.

Если вы не устанавливайте программу и пользуйтесь переносной версией (в настройках галочкой отмечен пункт Portable Mode)то песни будут хранится в папке:
ВашДиск:\ПапкаПрограммы\App\Data\Songs.

Структура папки Data повторяет Open Chords для установочной версии.

## XML
Итак, каждая песня хранится в отдельном файле.
Как я  уже говорил, это формат XML. Структурированый язык разметки. 
В случае с Open Song файлы с песнями не имеют расширения. Это несколько усложняет работу. 
Например предпросмотр встроенными средствами операционной системы. 
Почему именно так сделано, я не знаю. 
Возможно разработчики руководствовалиcь какими то своими соображениями.

## Содержание файла.
Вот мы и добрались до самой важной части статьи. Рассмотри более подробно содержание файла. (Осторожно красноглазие пути назад нет!)

Какая информация о песне храниться в файле?

`<?xml version="1.0" encoding="utf-8"?>`
В начале файла идет различные служебные данные о стандарте XML и описание стиля, для нас она не представляет никакой ценности.

Далее в тэгах описывается:
`<song>` заявляется, что это песня
` <title>Amazing Grace</title> `- название песни
` <author>John Newton</author> `- автор
` <presentation>V3 V1 V2 V4</presentation>` - порядок показа частей
` <capo>0</capo> `- расположение каподастра для щипковых инструментов
` <key>D</key> `- тональность
`  <lyrics>[V1]`
`. D      D7        G         D     `                                                         
` Amazing grace how sweet the sound     `                
`.     Bm      E           A  A7    `                                                         
` that saved a wretch like me;    `                       
`.  D        D7       G       D   `                                                           
` I once was lost but now I'm found,   `                  
`.    Bm        A     G   D  `                                                                
` was blind but now I see.  `                             

`[V2]`
`.     D          D7        G        D  `                                                     
` Twas grace that taught my heart to fear,  `             
`.    Bm       E       A      A7  `                                                           
` and grace my fears relieved; `                          
`.    D        D7       G       D  `                                                          
` How precious did that grace appear `                    
`.    Bm     A       G      D`                                                                
` the hour I first believed! `                            

`[V3]`
`.        D    D7       G `                                                                   
` Through many dangers, toils, `                          
`.    D        Bm     E     A    A7  `                                                        
` and snares I have already come;   `                     
`.     D          D7         G         D  `                                                   
` 'Tis grace that brought me safe thus far  `             
`.    Bm         A       G    D   `                                                           
` and grace will lead me home. `                          

`[V4]`
`.     D          D7        G         `                                                       
` When we've been there ten thousand                     `
`.D            Bm      E      A   A7       `                                                  
` years bright shining as the sun;                       `
`.      D       D7      G          D                      `                                   
` We've no less days to sing God's praise                `
`.     Bm        A       G   D                             `                                  
` than when we'd first begun!                            `
`</lyrics>` -собственно сам текст песни с аккордами. Подробное описание достойно отдельной статьи, но на самом деле здесь все просто:
`.` - строки начинающиеся с точки, это буквенные обозначения аккордов, они будут изменяться при транспонировании.
`_` - строки начинающиеся с пробела это сами слова песни
`[V1]`тэги в квадратных скобках, обозначения частей песни, например V1 это первый куплет (от слова английского слова "Verse" - куплет). Тэг действует до следующего тэга или до конца раздела `</lyrics>`.
 ` <ccli>1037882</ccli> `- код песни в CCLI это такая "международная христианская" лицензия на тексты песен, в России и СНГ, нам от неё не горячо ни холодно.
  `<preferFlats>False</preferFlats>` - используются ли аккорды с бемолем (в нашем случае указано False (ложь) - отключено)
  `<tempo />` - точный темп bpm (удары в минуту)
 ` <time_sig />` - размер (4/4, 3/8 и т.д.)
 ` <hymn_number />` -номер гимна, для стран бывшего СССР скорее всего бесполезно
`<notes>[V3]`
` slow and worshipful`
`[V1]`
`switch to 4/4 `
` timing`
` with palm muting`
 `add light drums`
`[V2]`
` heavy`
`[V4]`
` heavy`
` sharp ending`
` on D`
`[G]`
` do V3 original`
` song then switch to `
` 4/4 timing`
 `</notes> `-примечания к частям для исполнителей (как нужно играть песню)
`</song> `-закрывающий тег, сообщающий, что информация о песне закончилась.

Как видите:
1) все довольно просто, наглядно и понятно даже человеку без специальной подготовки. 
2) Кроме специальных программ файл можно просмотреть и отредактировать в любом текстовом редакторе, например в Windows это Блокнот, WordPad, Notepad++, Microsoft Word, Libre Office Writer и т.п.

Я считаю это важными преимуществами по сравнению с любыми закрытыми проприетарными форматами.

